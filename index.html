<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="description" content="AutoFlow crée des bots, scrapers et automatisations sur mesure qui pilotent votre croissance. Parlez-nous de votre projet et obtenez un plan d’action." />
  <meta name="theme-color" content="#0A84FF" />
  <title>AutoFlow — Bots, Scraping & Automatisation</title>

  <!-- Open Graph / Twitter -->
  <meta property="og:title" content="AutoFlow — Bots, Scraping & Automatisation">
  <meta property="og:description" content="Des automatismes sur mesure qui travaillent pour vous.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://images.unsplash.com/photo-1520607162513-77705c0f0d4a?q=80&w=1600&auto=format&fit=crop">
  <meta name="twitter:card" content="summary_large_image">

  <!-- JSON-LD minimal -->
  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"Organization","name":"AutoFlow","url":"https://autoflow.fr","logo":"https://autoflow.fr/logo.svg","sameAs":["https://www.linkedin.com/company/autoflow"]}
  </script>

  <!-- Perf (images) -->
  <link rel="preconnect" href="https://images.unsplash.com" crossorigin>
  <link rel="preconnect" href="https://cdn.coverr.co" crossorigin>

  <!-- Favicon (SVG data URI) -->
  <link rel="icon" href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><defs><linearGradient id="g" x1="0" y1="0" x2="1" y2="1"><stop stop-color="%230A84FF"/><stop offset="1" stop-color="%238BC7FF"/></linearGradient></defs><rect width="64" height="64" rx="14" fill="url(%23g)"/><path d="M35 6 14 34h13l-2 24 22-28H34l1-24z" fill="white"/></svg>'>

  <style>
    :root{
      --accent-h: 214;
      --accent: hsl(var(--accent-h) 100% 57%);
      --accent-2: hsl(var(--accent-h) 100% 74%);
      --accent-grad: linear-gradient(135deg, var(--accent) 0%, var(--accent-2) 100%);
      --bg:#0b0d12; --bg-soft:#0f1218; --elev:#121620; --text:#e9edf6; --muted:#9aa4b2;
      --r:20px; --gap:clamp(14px,3vw,24px);
      --shadow-1: 0 8px 22px rgba(0,0,0,.28);
      --shadow-2: 0 16px 36px rgba(0,0,0,.36);
      --shadow-3: 0 24px 60px rgba(0,0,0,.48);
      --hair: rgba(255,255,255,.08);
    }
    *,*::before,*::after{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{margin:0;background:var(--bg);color:var(--text);font-family:"Inter",-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,system-ui,sans-serif;overflow-x:hidden}
    a{color:inherit;text-decoration:none}
    img,video{max-width:100%;display:block}
    .container{max-width:1120px;margin:0 auto;padding:0 var(--gap)}
    section{padding:90px 0;scroll-margin-top:84px}
    .section-head{text-align:center;margin-bottom:36px}
    .k-title{font:800 clamp(28px,5vw,46px)/1.08 "Inter";letter-spacing:.2px;margin:0 0 8px}
    .k-sub{color:var(--muted);max-width:680px;margin:0 auto}

    /* Header */
    .site-header{position:sticky;top:0;z-index:50;background:linear-gradient(180deg, rgba(10,12,18,.82), rgba(10,12,18,.42));backdrop-filter:blur(10px);transition:all .25s}
    .site-header.compact{background:linear-gradient(180deg, rgba(10,12,18,.9), rgba(10,12,18,.6))}
    .nav{height:72px;display:flex;align-items:center;justify-content:space-between}
    .brand{display:flex;align-items:center;gap:12px}
    .brand-badge{width:40px;height:40px;border-radius:12px;background:var(--accent-grad);display:grid;place-items:center;box-shadow:0 6px 18px rgba(29,118,255,.35)}
    .brand-badge svg{filter:drop-shadow(0 1px 2px rgba(0,0,0,.35))}
    .brand-name{font:800 20px/1 "Inter"}
    .nav-links{display:flex;gap:20px;align-items:center}
    .link{position:relative;padding:8px 10px;border-radius:10px;color:#dfe7f6}
    .link::after{content:"";position:absolute;left:12px;right:12px;bottom:6px;height:2px;border-radius:2px;background:var(--accent-grad);transform:scaleX(0);transform-origin:50% 100%;transition:transform .22s}
    .link:hover::after,.link[aria-current="page"]::after{transform:scaleX(1)}
    .pill{padding:9px 16px;border-radius:999px;background:rgba(255,255,255,.06);border:1px solid var(--hair)}
    .pill--accent{background:rgba(66,136,255,.12);border-color:rgba(66,136,255,.35)}
    .hamburger{display:none;background:none;border:none;padding:10px}
    .hamburger span{display:block;width:22px;height:2px;background:#dfe7f6;margin:5px 0;border-radius:2px}

    /* Hero */
    .hero{position:relative;min-height:86vh;display:grid;place-items:center;overflow:hidden}
    .hero-media{position:absolute;inset:0;z-index:-2}
    .hero-media img{width:100%;height:100%;object-fit:cover;filter:contrast(1.05) saturate(1.05)}
    .hero::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg, rgba(6,8,12,.25), rgba(6,8,12,.55) 55%, rgba(6,8,12,.85));z-index:-1}
    .hero h1{font-weight:900;font-size:clamp(32px,6vw,68px);text-align:center;letter-spacing:.3px;margin:0 0 12px}
    .hero p{color:#d4deed;text-align:center;max-width:720px;margin:0 auto 22px}
    .actions{display:flex;gap:14px;justify-content:center;flex-wrap:wrap}
    .btn{position:relative;display:inline-flex;gap:10px;align-items:center;justify-content:center;border:none;border-radius:14px;padding:14px 18px;font-weight:800;cursor:pointer;transition:transform .12s, box-shadow .12s}
    .btn svg{flex:0 0 auto}
    .btn-primary{background:var(--accent-grad);color:white;box-shadow:var(--shadow-1)}
    .btn-primary:hover{transform:translateY(-1px) scale(1.01);box-shadow:var(--shadow-2)}
    .btn-ghost{background:rgba(255,255,255,.08);color:#eef3ff;border:1px solid var(--hair)}
    .btn-ghost:hover{transform:translateY(-1px)}
    .cta-float{position:fixed;right:22px;bottom:22px;z-index:40;display:none}
    .cta-float .btn{background:linear-gradient(180deg, rgba(255,255,255,.86), rgba(255,255,255,.78));color:#153056;border:1px solid rgba(255,255,255,.6);backdrop-filter:blur(6px)}
    .back-top{position:fixed;right:26px;bottom:86px;display:none;z-index:40}
    .back-top button{width:44px;height:44px;border-radius:999px;background:rgba(255,255,255,.08);border:1px solid var(--hair);color:#fff}

    /* Projects */
    .projects{background:var(--bg-soft)}
    .cards{display:grid;grid-template-columns:repeat(3,1fr);gap:22px}
    .card{position:relative;border-radius:22px;overflow:hidden;background:#0e131b;border:1px solid var(--hair);box-shadow:var(--shadow-1);transform-style:preserve-3d;transition:box-shadow .25s, transform .25s}
    .card:hover{box-shadow:var(--shadow-2);transform:translateY(-2px)}
    .card-media{aspect-ratio:4/3;overflow:hidden}
    .card-media img{width:100%;height:100%;object-fit:cover;transform:scale(1.03);transition:transform .5s;filter:saturate(1.02)}
    .card:hover .card-media img{transform:scale(1.08)}
    .card::before{content:"";position:absolute;inset:-10% -40% auto -40%;height:60%;background:linear-gradient(100deg, rgba(255,255,255,.12), rgba(255,255,255,0) 45%);transform:translateX(-60%) rotate(8deg);transition:transform .6s;filter:blur(6px);pointer-events:none}
    .card:hover::before{transform:translateX(40%) rotate(8deg)}
    .card-body{position:absolute;left:18px;right:18px;bottom:18px;color:#fff;text-shadow:0 1px 12px rgba(0,0,0,.45)}
    .badge{position:absolute;top:12px;right:12px;background:rgba(0,0,0,.45);border:1px solid rgba(255,255,255,.25);color:#fff;padding:6px 10px;border-radius:999px;font-weight:700}
    .card h3{margin:0 0 6px;font:800 20px/1.25 "Inter"}
    .card p{margin:0;color:#d8dee8}

    /* Expertise */
    .expertise .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:22px}
    .exp-card{background:linear-gradient(180deg, #0f141e, #0d121a);border:1px solid var(--hair);border-radius:22px;padding:22px;box-shadow:var(--shadow-1)}
    .exp-head{display:flex;align-items:center;gap:12px;margin-bottom:6px}
    .exp-ic{width:36px;height:36px;border-radius:12px;background:rgba(255,255,255,.06);display:grid;place-items:center;border:1px solid var(--hair)}
    .exp-title{font-weight:900}
    .exp-list{margin:12px 0 0 0;padding:0 0 0 18px;color:#c8d2e1}

    /* Benefits */
    .benefits .grid{display:grid;grid-template-columns:repeat(4,1fr);gap:22px}
    .benefit{background:linear-gradient(180deg,#0f141e,#0d121a);border:1px solid var(--hair);border-radius:22px;padding:22px;box-shadow:var(--shadow-1)}
    .benefit .exp-ic{width:32px;height:32px}
    .benefit h4{margin:10px 0 6px;font:900 18px/1.35 "Inter"}
    .benefit p{margin:0;color:#c9d3e2}

    /* FAQ */
    .faq .items{max-width:880px;margin:0 auto}
    details{background:#0e131b;border:1px solid var(--hair);border-radius:18px;padding:14px 18px;box-shadow:var(--shadow-1);margin-bottom:12px}
    summary{cursor:pointer;font-weight:900;list-style:none;display:flex;align-items:center;gap:10px}
    summary::-webkit-details-marker{display:none}
    details[open]{box-shadow:var(--shadow-2)}
    .answer{color:#cbd6e6;margin:8px 4px 4px}

    /* Contact / Call */
    .contact .form-wrap{max-width:980px;margin:0 auto;background:#0e131b;border:1px solid var(--hair);border-radius:28px;padding:24px;box-shadow:var(--shadow-2)}
    .grid-form{display:grid;grid-template-columns:1fr 1fr;gap:18px}
    .field{display:flex;flex-direction:column;gap:8px;position:relative}
    .field label{font-weight:800}
    .adorn{position:absolute;left:12px;top:42px;opacity:.7}
    input,textarea,select{width:100%;background:#0a0f16;color:#eaf1ff;border:1px solid #1d2a3a;border-radius:14px;padding:14px 14px 14px 38px;font-family:inherit}
    input::placeholder,textarea::placeholder{color:#6e7b90}
    input:focus,textarea:focus,select:focus{outline:2px solid var(--accent);box-shadow:0 0 0 6px rgba(66,136,255,.14)}
    .full{grid-column:1 / -1}
    .form-actions{display:flex;gap:10px;flex-wrap:wrap;justify-content:flex-end;margin-top:10px}
    .status{margin-top:10px;color:#9fe3b2;display:none}
    .status.error{color:#ff9f9f}
    .calendly{margin-top:18px;border-radius:18px;overflow:hidden;border:1px solid var(--hair)}

    /* Modal */
    .modal{position:fixed;inset:0;display:none;place-items:center;background:rgba(0,0,0,.6);padding:16px;z-index:100}
    .modal[aria-hidden="false"]{display:grid}
    .modal-win{background:#0e131b;border:1px solid var(--hair);border-radius:18px;max-width:940px;width:100%;max-height:86vh;display:flex;flex-direction:column;overflow:hidden;box-shadow:var(--shadow-3)}
    .modal-head{display:flex;align-items:center;gap:10px;padding:12px 14px;border-bottom:1px solid var(--hair)}
    .modal-title{font:900 18px/1.2 "Inter"}
    .modal-actions{margin-left:auto;display:flex;gap:6px}
    .icon-btn{width:36px;height:36px;border-radius:999px;border:1px solid var(--hair);background:rgba(255,255,255,.06);color:#fff}
    .modal-body{padding:14px;overflow:auto}
    .modal-img,.modal-video{width:100%;max-height:52vh;object-fit:contain;border-radius:12px;background:#000}
    .chips{display:flex;gap:8px;flex-wrap:wrap;margin:8px 0}
    .chip{padding:6px 10px;border-radius:999px;border:1px solid var(--hair);background:rgba(255,255,255,.06)}
    .pager{position:absolute;bottom:10px;right:14px;display:flex;gap:6px}
    .pager .icon-btn{background:rgba(0,0,0,.45)}
    .progress{margin-left:auto;padding:6px 10px;border-radius:999px;border:1px solid var(--hair);background:rgba(255,255,255,.06);font-weight:900}

    /* Footer */
    footer{background:#0a0f16;border-top:1px solid var(--hair);padding:40px 0;color:#c6d0df}
    .foot{display:grid;grid-template-columns:repeat(4,1fr);gap:22px}
    .foot h5{margin:0 0 8px;font:900 16px/1.3 "Inter";color:#dfe7f6}
    .foot ul{margin:0;padding-left:18px}
    .foot small{grid-column:1 / -1;opacity:.7;margin-top:16px;display:block;text-align:center}

    /* Responsive */
    @media (max-width:980px){
      .cards{grid-template-columns:1fr 1fr}
      .expertise .grid{grid-template-columns:1fr 1fr}
      .benefits .grid{grid-template-columns:1fr 1fr}
      .grid-form{grid-template-columns:1fr}
    }
    @media (max-width:740px){
      .nav-links{display:none}
      .hamburger{display:block}
      section{padding:68px 0}
      .cards{grid-template-columns:1fr}
      .expertise .grid{grid-template-columns:1fr}
      .benefits .grid{grid-template-columns:1fr}
      .card::before{display:none}
      .cta-float{right:16px;bottom:16px}
      .back-top{right:16px;bottom:76px}
    }

    a:focus-visible,button:focus-visible{outline:2px solid var(--accent);outline-offset:2px;border-radius:10px}
    .skip{position:absolute;left:-9999px}
    .skip:focus{left:10px;top:10px;z-index:1000;background:#000;color:#fff;padding:8px 10px;border-radius:10px}
  </style>
</head>
<body>
  <a class="skip" href="#main">Aller au contenu</a>

  <header class="site-header">
    <div class="container nav">
      <a class="brand" href="#accueil">
        <span class="brand-badge" aria-hidden="true">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="white"><path d="M13.5 2 5 13h6l-1 9 8.5-11h-6L13.5 2z"/></svg>
        </span>
        <span class="brand-name">AutoFlow</span>
      </a>
      <nav aria-label="Navigation principale" class="nav-links">
        <a class="link" href="#accueil">Accueil</a>
        <a class="link" href="#projets">Projets</a>
        <a class="link" href="#expertise">Expertise</a>
        <a class="link" href="#faq">FAQ</a>
        <a class="link pill pill--accent" href="#contact">Parler à un humain</a>
      </nav>
      <button class="hamburger" aria-label="Menu mobile" aria-expanded="false"><span></span><span></span><span></span></button>
    </div>
  </header>

  <main id="main">
    <!-- Hero -->
    <section id="accueil" class="hero">
      <div class="hero-media">
        <img src="https://images.unsplash.com/photo-1520607162513-77705c0f0d4a?q=80&w=2000&auto=format&fit=crop" alt="">
      </div>
      <div class="container">
        <h1>Tout devient automatique, sauf vos idées.</h1>
        <p>On conçoit des bots, scrapers et automatisations sur mesure qui travaillent pour vous — pendant que vous vous concentrez sur la croissance.</p>
        <div class="actions">
          <a href="#contact" class="btn btn-primary">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M13 2 3 14h7l-1 8 10-12h-7l1-8z"/></svg>
            Parler de mon projet
          </a>
          <a href="#projets" class="btn btn-ghost">Voir des exemples</a>
        </div>
      </div>
    </section>

    <!-- Projects (auto depuis JSON) -->
    <section id="projets" class="projects">
      <div class="container">
        <div class="section-head">
          <h2 class="k-title">Nos dernières réalisations</h2>
          <p class="k-sub">Démos internes — prêtes à adapter à votre cas.</p>
        </div>
        <div id="cards" class="cards" aria-live="polite">
          <!-- rempli par JS -->
        </div>
      </div>
    </section>

    <!-- Expertise (copie simplifiée & orientée bénéfices) -->
    <section id="expertise" class="expertise">
      <div class="container">
        <div class="section-head">
          <h2 class="k-title">Notre expertise</h2>
          <p class="k-sub">Des briques techniques robustes, assemblées sur mesure.</p>
        </div>
        <div class="grid">
          <div class="exp-card">
            <div class="exp-head">
              <div class="exp-ic"><svg width="18" height="18" viewBox="0 0 24 24" fill="#dfe7f6"><path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z"/></svg></div>
              <div class="exp-title">Web scraping</div>
            </div>
            <p>Le pilotage automatique de votre veille : un bot collecte, nettoie et vous montre uniquement ce qui compte.</p>
            <ul class="exp-list">
              <li>Collecte multi-sites fiable (anti-blocage, planification)</li>
              <li>Tableaux de bord, alertes et exports simples</li>
            </ul>
          </div>

          <div class="exp-card">
            <div class="exp-head">
              <div class="exp-ic"><svg width="18" height="18" viewBox="0 0 24 24" fill="#dfe7f6"><path d="M12 2a7 7 0 0 0-7 7c0 5 7 13 7 13s7-8 7-13a7 7 0 0 0-7-7zm0 9.5A2.5 2.5 0 1 1 12 6a2.5 2.5 0 0 1 0 5z"/></svg></div>
              <div class="exp-title">Bots & agents</div>
            </div>
            <p>Chatbots, bots de modération, assistants qui répondent et exécutent vos workflows.</p>
            <ul class="exp-list">
              <li>DM ciblés, commandes, suivi et statistiques</li>
              <li>Anti-spam, quotas, hébergé chez vous ou géré</li>
            </ul>
          </div>

          <div class="exp-card">
            <div class="exp-head">
              <div class="exp-ic"><svg width="18" height="18" viewBox="0 0 24 24" fill="#dfe7f6"><path d="M12 2a5 5 0 0 0-5 5v3H5a2 2 0 0 0-2 2v7h18v-7a2 2 0 0 0-2-2h-2V7a5 5 0 0 0-5-5z"/></svg></div>
              <div class="exp-title">Applications IA</div>
            </div>
            <p>Résumé/classement, extraction d’entités, RAG sur vos documents, API.</p>
            <ul class="exp-list">
              <li>Sur votre cloud ou le nôtre</li>
              <li>Prompts testés et mesurés</li>
            </ul>
          </div>

          <div class="exp-card" style="grid-column:1/-1">
            <div class="exp-head">
              <div class="exp-ic"><svg width="18" height="18" viewBox="0 0 24 24" fill="#dfe7f6"><path d="M21 12l-2 2-3-3 2-2-2-2-2 2-3-3 2-2-2-2-3 3-2-2L3 5l2 2-3 3 2 2 3-3 3 3-2 2 2 2 2-2 3 3 2-2-3-3 2-2 3 3 2-2z"/></svg></div>
              <div class="exp-title">Solutions sur mesure</div>
            </div>
            <p>Applis web & mobile clés en main, branchées à vos outils (Google Sheets, Notion, Slack, CRM…). On livre, on forme, vous gardez la main.</p>
            <ul class="exp-list">
              <li>Intégration douce à vos habitudes</li>
              <li>Transfert & formation inclus</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Benefits -->
    <section class="benefits">
      <div class="container">
        <div class="section-head">
          <h2 class="k-title">Ce que vous gagnez</h2>
        </div>
        <div class="grid">
          <div class="benefit">
            <div class="exp-ic"><svg width="18" height="18" viewBox="0 0 24 24" fill="#dfe7f6"><path d="M12 7V2l-5 5h5zm0 0h5l-5 5V7zM4 13h16v2H4v-2zm0 4h16v2H4v-2z"/></svg></div>
            <h4>Des heures gagnées</h4>
            <p>Libérez plusieurs heures par semaine — sans effort supplémentaire.</p>
          </div>
          <div class="benefit">
            <div class="exp-ic"><svg width="18" height="18" viewBox="0 0 24 24" fill="#dfe7f6"><path d="M7 2h10v4H7V2zm0 6h10v4H7V8zm0 6h10v8H7v-8z"/></svg></div>
            <h4>Moins de tâches répétitives</h4>
            <p>On standardise, on automatise, vous respirez.</p>
          </div>
          <div class="benefit">
            <div class="exp-ic"><svg width="18" height="18" viewBox="0 0 24 24" fill="#dfe7f6"><path d="M3 17h18v2H3v-2zm2-4h4v4H5v-4zm6-6h4v10h-4V7zm6 3h4v7h-4v-7z"/></svg></div>
            <h4>Impact mesurable</h4>
            <p>Dashboards clairs et alertes utiles sur vos KPI.</p>
          </div>
          <div class="benefit">
            <div class="exp-ic"><svg width="18" height="18" viewBox="0 0 24 24" fill="#dfe7f6"><path d="M4 5h16v2H4V5zm0 6h10v2H4v-2zm0 6h16v2H4v-2z"/></svg></div>
            <h4>Intégration sans friction</h4>
            <p>On branche tout à vos outils, sans changer vos habitudes.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section id="faq" class="faq">
      <div class="container">
        <div class="section-head">
          <h2 class="k-title">FAQ</h2>
        </div>
        <div class="items">
          <details open>
            <summary>Combien de temps pour un projet type ?</summary>
            <div class="answer">La plupart des projets se livrent en 5 à 15 jours ouvrés.</div>
          </details>
          <details>
            <summary>Qui s’occupe de l’hébergement ?</summary>
            <div class="answer">Comme vous préférez : chez vous (cloud) ou géré par nous.</div>
          </details>
          <details>
            <summary>Et si j’ai besoin d’aide après ?</summary>
            <div class="answer">On reste joignables. Réponse sous 24 h ouvrées.</div>
          </details>
          <details>
            <summary>Combien ça coûte ?</summary>
            <div class="answer">On propose un pilote simple dès que possible, puis on fait évoluer selon vos priorités.</div>
          </details>
        </div>
      </div>
    </section>

    <!-- Contact / Call -->
    <section id="contact" class="contact">
      <div class="container">
        <div class="section-head">
          <h2 class="k-title">Parlez-nous de votre projet</h2>
          <p class="k-sub">Dites-nous ce que vous voulez automatiser. On vous répond avec un plan d’action (souvent le jour même) — et on cale un appel si besoin.</p>
        </div>

        <form id="leadForm" class="form-wrap" action="https://formspree.io/f/xblkpvaz" method="POST" novalidate>
          <input type="text" name="website" autocomplete="off" tabindex="-1" aria-hidden="true" style="position:absolute;left:-9999px">
          <div class="grid-form">
            <div class="field">
              <label for="name">Prénom</label>
              <span class="adorn"><svg width="18" height="18" viewBox="0 0 24 24" fill="#9aa4b2"><path d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5zm0 2c-4 0-8 2-8 6h16c0-4-4-6-8-6z"/></svg></span>
              <input id="name" name="name" required placeholder="Votre prénom">
            </div>
            <div class="field">
              <label for="email">Email</label>
              <span class="adorn"><svg width="18" height="18" viewBox="0 0 24 24" fill="#9aa4b2"><path d="M4 4h16v16H4V4zm8 7L4 6v12l8-7 8 7V6l-8 5z"/></svg></span>
              <input id="email" name="email" type="email" required placeholder="vous@exemple.com" autocomplete="email">
            </div>
            <div class="field">
              <label for="phone">Téléphone (optionnel)</label>
              <span class="adorn"><svg width="18" height="18" viewBox="0 0 24 24" fill="#9aa4b2"><path d="M6.6 10.8a15 15 0 0 0 6.6 6.6l2.2-2.2a1 1 0 0 1 1-.24c1.1.37 2.3.57 3.6.57a1 1 0 0 1 1 1V21a1 1 0 0 1-1 1A19 19 0 0 1 3 7a1 1 0 0 1 1-1h3.5a1 1 0 0 1 1 1c0 1.28.2 2.5.57 3.6a1 1 0 0 1-.24 1l-2.23 2.2z"/></svg></span>
              <input id="phone" name="phone" type="tel" inputmode="tel" pattern="[\d\s()+\-\.]{7,}" placeholder="+33 X XX XX XX XX" autocomplete="tel">
            </div>
            <div class="field">
              <label for="pref">Comment préférez-vous échanger ?</label>
              <span class="adorn"><svg width="18" height="18" viewBox="0 0 24 24" fill="#9aa4b2"><path d="M4 5h16v2H4V5zm0 6h16v2H4v-2zm0 6h16v2H4v-2z"/></svg></span>
              <select id="pref" name="preference">
                <option>Appel visio 30 min</option>
                <option>WhatsApp</option>
                <option>Email uniquement</option>
              </select>
            </div>
            <div class="field full">
              <label for="needs">Que voulez-vous automatiser ?</label>
              <span class="adorn" style="top:46px"><svg width="18" height="18" viewBox="0 0 24 24" fill="#9aa4b2"><path d="M3 4h18v2H3V4zm0 6h12v2H3v-2zm0 6h18v2H3v-2z"/></svg></span>
              <textarea id="needs" name="needs" rows="5" placeholder="Ex. : surveiller des annonces et envoyer des alertes Telegram ; bot qui répond aux messages et redirige vers mon canal ; tableau de bord ventes…"></textarea>
            </div>
          </div>
          <div class="form-actions">
            <a id="bookBtn" class="btn btn-ghost" href="#" target="_blank" rel="noopener">Ou planifier un appel</a>
            <button class="btn btn-primary" type="submit">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M13 2 3 14h7l-1 8 10-12h-7l1-8z"/></svg>
              Envoyer ma demande (réponse &lt; 24 h)
            </button>
          </div>
          <p class="status" role="status" aria-live="polite">Merci ! Nous revenons vers vous sous 24 h.</p>

          <!-- Calendly embed si lien configuré -->
          <div id="calendly" class="calendly" style="display:none;">
            <iframe id="calendlyFrame" title="Planifier un appel" width="100%" height="680" frameborder="0"></iframe>
          </div>
        </form>
      </div>
    </section>
  </main>

  <!-- Float CTA + Back to top -->
  <div class="back-top"><button aria-label="Retour en haut">↑</button></div>
  <div class="cta-float"><a class="btn" href="#contact">Parler de mon projet →</a></div>

  <footer>
    <div class="container foot">
      <div>
        <h5>AutoFlow</h5>
        <p>Des automatismes invisibles qui libèrent votre temps et amplifient vos résultats.</p>
      </div>
      <div>
        <h5>Services</h5>
        <ul>
          <li>Web scraping</li>
          <li>Bots & agents</li>
          <li>Applications IA</li>
          <li>Solutions sur mesure</li>
        </ul>
      </div>
      <div>
        <h5>Entreprise</h5>
        <ul>
          <li><a href="#projets">Nos réalisations</a></li>
          <li><a href="#faq">FAQ</a></li>
        </ul>
      </div>
      <div>
        <h5>Contact</h5>
        <ul>
          <li>Email : hello@autoflow.fr</li>
          <li>Téléphone : +33 1 23 45 67 89</li>
          <li>LinkedIn : /company/autoflow</li>
        </ul>
      </div>
      <small>© 2025 AutoFlow. Tous droits réservés.</small>
    </div>
  </footer>

  <!-- Modal -->
  <div class="modal" id="modal" aria-hidden="true" aria-labelledby="mTitle">
    <div class="modal-win" role="dialog" aria-modal="true">
      <div class="modal-head">
        <div class="modal-title" id="mTitle">Projet</div>
        <div class="progress" id="mProgress">1/1</div>
        <div class="modal-actions">
          <button class="icon-btn" id="mPrev" aria-label="Précédent">‹</button>
          <button class="icon-btn" id="mNext" aria-label="Suivant">›</button>
          <button class="icon-btn" id="mClose" aria-label="Fermer">✕</button>
        </div>
      </div>
      <div class="modal-body" id="mBody"></div>
    </div>
  </div>

  <script>
    // ===== Config =====
    const CALENDLY_URL = ""; // Mets ton lien Calendly (ex: "https://calendly.com/ton-handle/30min")

    // ===== Header shrink / spy / helpers =====
    const header = document.querySelector('.site-header');
    addEventListener('scroll', ()=> header.classList.toggle('compact', scrollY > 12), {passive:true});

    const links = [...document.querySelectorAll('.nav-links .link')];
    const sections = links.map(a => document.querySelector(a.getAttribute('href'))).filter(Boolean);
    if('IntersectionObserver' in window){
      const spy = new IntersectionObserver(entries=>{
        entries.forEach(e=>{
          if(e.isIntersecting){
            const l = links.find(x => x.getAttribute('href') === '#' + e.target.id);
            links.forEach(x => x.removeAttribute('aria-current'));
            l?.setAttribute('aria-current','page');
          }
        })
      }, {threshold:.6, rootMargin:"-70px 0px -40% 0px"});
      sections.forEach(s=>spy.observe(s));
    }

    const backTop = document.querySelector('.back-top');
    const ctaFloat = document.querySelector('.cta-float');
    addEventListener('scroll', ()=>{
      const show = scrollY > 600;
      backTop.style.display = show ? 'block' : 'none';
      ctaFloat.style.display = show ? 'block' : 'none';
    }, {passive:true});
    backTop.querySelector('button').addEventListener('click', ()=> scrollTo({top:0, behavior:'smooth'}));

    document.querySelectorAll('a[href^="#"]').forEach(a=>{
      a.addEventListener('click', (e)=>{
        const id = a.getAttribute('href');
        const target = document.querySelector(id);
        if(!target) return;
        e.preventDefault();
        target.scrollIntoView({behavior:'smooth', block:'start'});
        history.pushState(null, "", id);
        target.setAttribute('tabindex','-1'); target.focus({preventScroll:true}); setTimeout(()=>target.removeAttribute('tabindex'), 600);
      });
    });

    // ===== Projects from JSON =====
    const cardsEl = document.getElementById('cards');
    const modal = document.getElementById('modal');
    const mBody = document.getElementById('mBody');
    const mTitle = document.getElementById('mTitle');
    const mProgress = document.getElementById('mProgress');
    const btnPrev = document.getElementById('mPrev');
    const btnNext = document.getElementById('mNext');
    const btnClose = document.getElementById('mClose');
    let PROJECTS = [], current = 0, lastFocus = null;

    function cardTpl(p, i){
      return `
        <article class="card" data-id="${i}" tabindex="0" data-tilt="1">
          <div class="badge">Détails</div>
          <div class="card-media">
            <img alt="" loading="lazy" decoding="async" src="${p.cover}">
          </div>
          <div class="card-body">
            <h3>${p.title}</h3>
            <p>${p.blurb}</p>
          </div>
        </article>`;
    }

    function renderCards(){
      if(!PROJECTS.length){
        cardsEl.innerHTML = '<p style="opacity:.7">Aucun projet pour le moment.</p>';
        return;
      }
      cardsEl.innerHTML = PROJECTS.map(cardTpl).join('');
      document.querySelectorAll('.card').forEach(card=>{
        card.addEventListener('click', ()=> openModal(+card.dataset.id));
        card.addEventListener('keydown', e=>{ if(e.key==='Enter' || e.key===' ') { e.preventDefault(); openModal(+card.dataset.id); }});
      });
    }

    function renderModal(i){
      const p = PROJECTS[i];
      mTitle.textContent = p.title;
      mProgress.textContent = `${i+1}/${PROJECTS.length}`;
      const media = (p.demo && p.demo.type === 'video')
        ? `<video class="modal-video" controls playsinline poster="${p.demo.poster||''}">
             <source src="${p.demo.src}" type="video/mp4">Votre navigateur ne supporte pas la vidéo.
           </video>`
        : `<img class="modal-img" src="${p.cover}" alt="${p.title}" loading="lazy" decoding="async">`;
      mBody.innerHTML = `
        ${media}
        <p style="margin:12px 0 6px">${p.blurb}</p>
        <div class="chips">${(p.stack||[]).map(s=>`<span class="chip">${s}</span>`).join('')}</div>
        ${(p.bullets&&p.bullets.length)?`<h4 style="margin:10px 0 6px">Fonctionnalités clés</h4>
        <ul style="margin-left:18px">${p.bullets.map(pt=>`<li>${pt}</li>`).join('')}</ul>`:''}
        <div style="margin-top:10px;display:flex;gap:10px;flex-wrap:wrap">
          <a class="btn btn-ghost" href="#contact">Discuter de ce projet</a>
          <a class="btn btn-primary" href="#contact">Adapter à mon cas</a>
        </div>
      `;
    }

    function openModal(i){
      current = i; renderModal(current);
      lastFocus = document.activeElement;
      modal.setAttribute('aria-hidden','false');
      document.body.style.overflow = 'hidden';
      trapFocus(modal);
    }
    function closeModal(){
      modal.setAttribute('aria-hidden','true');
      document.body.style.overflow = '';
      lastFocus?.focus();
    }
    btnPrev.addEventListener('click', ()=>{ current = (current-1+PROJECTS.length)%PROJECTS.length; renderModal(current); });
    btnNext.addEventListener('click', ()=>{ current = (current+1)%PROJECTS.length; renderModal(current); });
    btnClose.addEventListener('click', closeModal);
    modal.addEventListener('click', e=>{ if(e.target===modal) closeModal(); });
    document.addEventListener('keydown', e=>{
      if(modal.getAttribute('aria-hidden')==='true') return;
      if(e.key==='Escape') closeModal();
      if(e.key==='ArrowRight') btnNext.click();
      if(e.key==='ArrowLeft') btnPrev.click();
    });

    function trapFocus(container){
      const sel = 'a, button, input, textarea, select, [tabindex]:not([tabindex="-1"])';
      const f = [...container.querySelectorAll(sel)].filter(el => !el.hasAttribute('disabled'));
      const first = f[0], last = f[f.length-1];
      first?.focus();
      function onKey(e){
        if(e.key==='Tab'){
          if(e.shiftKey && document.activeElement===first){ e.preventDefault(); last.focus(); }
          else if(!e.shiftKey && document.activeElement===last){ e.preventDefault(); first.focus(); }
        }
      }
      container.addEventListener('keydown', onKey, {once:false});
    }

    // Fetch projects.json
    async function loadProjects(){
      try{
        const res = await fetch('projects.json', {cache:'no-store'});
        PROJECTS = await res.json();
      }catch(e){
        PROJECTS = [];
      } finally {
        renderCards();
      }
    }
    loadProjects();

    // ===== Contact form + Calendly =====
    const form = document.getElementById('leadForm');
    const status = form.querySelector('.status');
    const calendlyWrap = document.getElementById('calendly');
    const calendlyFrame = document.getElementById('calendlyFrame');
    const bookBtn = document.getElementById('bookBtn');

    if(CALENDLY_URL){
      calendlyWrap.style.display = 'block';
      calendlyFrame.src = CALENDLY_URL;
      bookBtn.href = CALENDLY_URL;
      bookBtn.textContent = "Planifier un appel";
    }else{
      bookBtn.href = "mailto:hello@autoflow.fr?subject=Prendre%20rendez-vous&body=Bonjour%20AutoFlow%2C%0AJe%20souhaite%20parler%20de%20mon%20projet.";
      bookBtn.textContent = "Planifier par email";
    }

    form.addEventListener('submit', async (e)=>{
      e.preventDefault();
      status.classList.remove('error');
      status.textContent = 'Envoi en cours…';
      status.style.display = 'block';

      const name = form.name.value.trim();
      const email = form.email.value.trim();
      if(!name || !email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)){
        status.textContent = 'Merci de vérifier votre prénom et email.';
        status.classList.add('error');
        return;
      }
      if(form.website.value){ status.textContent = 'OK.'; return; }

      try{
        const res = await fetch(form.action, { method:"POST", headers:{Accept:"application/json"}, body:new FormData(form) });
        if(res.ok){
          form.reset();
          status.classList.remove('error');
          status.textContent = '✅ Merci ! On revient vers vous sous 24 h.';
          setTimeout(()=> status.style.display='none', 4500);
        }else{
          status.textContent = '❌ Une erreur est survenue ; merci de réessayer.';
          status.classList.add('error');
        }
      }catch(_){
        status.textContent = '❌ Impossible d’envoyer. Vérifiez votre connexion.';
        status.classList.add('error');
      }
    });
  </script>
</body>
</html>
